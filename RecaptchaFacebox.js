$.fn.RecaptchaFacebox=function(a){$(this).click(function(){if($("#RecaptchaFacebox").html()==null){$("body").prepend('<div id="RecaptchaFacebox" style="display: none;"><p class="message">Please enter the text displayed in the box below, then submit.<br />This helps prevent spam.</p><p class="error">Your answer was incorrect. Please try again.</p><div id="recaptcha"></div><input class="button" type="button" value="submit" /></div>')}$("#RecaptchaFacebox .error").hide();Recaptcha.create("YOUR_PUBLIC_KEY","recaptcha",{theme:"clean",callback:Recaptcha.focus_response_field});jQuery.facebox($("#RecaptchaFacebox"));$("#RecaptchaFacebox").show();$("#RecaptchaFacebox .button").click(function(){challengeField=$("input#recaptcha_challenge_field").val();responseField=$("input#recaptcha_response_field").val();var b=$.ajax({url:a.url+"?recaptcha_challenge_field="+challengeField+"&recaptcha_response_field="+responseField,success:function(c){if(c.toLowerCase()=="true"){$.facebox.close();a.successCallback()}else{$("#RecaptchaFacebox .error").show();Recaptcha.reload()}}})})})};